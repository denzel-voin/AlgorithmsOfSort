const shellSort = (arr) => {
  const n = arr.length; // Получаем длину массива
  let gap = Math.floor(n / 2); // Инициализируем начальный интервал

  // Цикл по интервалам
  while (gap > 0) {
    // Цикл сортировки вставками для каждого интервала
    for (let i = gap; i < n; i++) {
      let temp = arr[i]; // Запоминаем текущий элемент
      let j = i; // Инициализируем индекс для прохода по элементам с интервалом

      // Сортировка вставками внутри интервала
      while (j >= gap && arr[j - gap] > temp) {
        arr[j] = arr[j - gap]; // Перемещаем элементы на интервал влево
        j -= gap; // Уменьшаем индекс на интервал
      }

      arr[j] = temp; // Вставляем сохраненный элемент на правильное место
    }

    gap = Math.floor(gap / 2); // Уменьшаем интервал
  }

  return arr; // Возвращаем отсортированный массив
}

module.exports = { shellSort }; // Экспортируем функцию для использования в других модулях
